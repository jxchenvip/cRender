<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Document</title>
    <style type="text/css">
    * {
        margin: 0;
        padding: 0;
    }
    
    body {
        word-wrap: break-word;
        word-break: break-all;
    }
    
    html,
    body {
        width: 100%;
        height: 100%;
        overflow: hidden;
        position: relative;
    }
    
    .box {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        overflow: hidden;
    }
    
    .box img {
        width: 100%;
        display: block;
    }
    
    .box1 {
        position: fixed;
        top: 50%;
        left: 0;
        right: 0;
        color: #f50;
        font-size: 30px;
    }
    
    img {
        vertical-align: middle;
    }
    </style>
</head>

<body>
    <div class="box">
        <img src="http://www.dabaoku.com/sucaidatu/dongwu/chongwujingling/953838.JPG">
        <img src="http://www.dabaoku.com/sucaidatu/dongwu/chongwujingling/953838.JPG">
        <img src="http://www.dabaoku.com/sucaidatu/dongwu/chongwujingling/953838.JPG">
        <img src="http://www.dabaoku.com/sucaidatu/dongwu/chongwujingling/953838.JPG">
        <img src="http://www.dabaoku.com/sucaidatu/dongwu/chongwujingling/953838.JPG">
        <img src="http://www.dabaoku.com/sucaidatu/dongwu/chongwujingling/953838.JPG">
        <img src="http://www.dabaoku.com/sucaidatu/dongwu/chongwujingling/953838.JPG">
        <img src="http://www.dabaoku.com/sucaidatu/dongwu/chongwujingling/953838.JPG">
        <img src="http://www.dabaoku.com/sucaidatu/dongwu/chongwujingling/953838.JPG">
        <img src="http://www.dabaoku.com/sucaidatu/dongwu/chongwujingling/953838.JPG">
        <img src="http://www.dabaoku.com/sucaidatu/dongwu/chongwujingling/953838.JPG">
        <img src="http://www.dabaoku.com/sucaidatu/dongwu/chongwujingling/953838.JPG">
        <img src="http://www.dabaoku.com/sucaidatu/dongwu/chongwujingling/953838.JPG">
        <img src="http://www.dabaoku.com/sucaidatu/dongwu/chongwujingling/953838.JPG">
        <img src="http://www.dabaoku.com/sucaidatu/dongwu/chongwujingling/953838.JPG">
        <img src="http://www.dabaoku.com/sucaidatu/dongwu/chongwujingling/953838.JPG">
        <img src="http://www.dabaoku.com/sucaidatu/dongwu/chongwujingling/953838.JPG">
        <img src="http://www.dabaoku.com/sucaidatu/dongwu/chongwujingling/953838.JPG">
        <img src="http://www.dabaoku.com/sucaidatu/dongwu/chongwujingling/953838.JPG">
        <img src="http://www.dabaoku.com/sucaidatu/dongwu/chongwujingling/953838.JPG">
        <img src="http://www.dabaoku.com/sucaidatu/dongwu/chongwujingling/953838.JPG">
        <img src="http://www.dabaoku.com/sucaidatu/dongwu/chongwujingling/953838.JPG">
        <img src="http://www.dabaoku.com/sucaidatu/dongwu/chongwujingling/953838.JPG">
        <img src="http://www.dabaoku.com/sucaidatu/dongwu/chongwujingling/953838.JPG">
        <img src="http://www.dabaoku.com/sucaidatu/dongwu/chongwujingling/953838.JPG">
        <img src="http://www.dabaoku.com/sucaidatu/dongwu/chongwujingling/953838.JPG">
        <img src="http://www.dabaoku.com/sucaidatu/dongwu/chongwujingling/953838.JPG">
        <img src="http://www.dabaoku.com/sucaidatu/dongwu/chongwujingling/953838.JPG">
        <img src="http://www.dabaoku.com/sucaidatu/dongwu/chongwujingling/953838.JPG">
        <img src="http://www.dabaoku.com/sucaidatu/dongwu/chongwujingling/953838.JPG">
        <img src="http://www.dabaoku.com/sucaidatu/dongwu/chongwujingling/953838.JPG">
        <img src="http://www.dabaoku.com/sucaidatu/dongwu/chongwujingling/953838.JPG">
    </div>
    <script type="text/javascript">
    window.onload = function() {
        document.addEventListener('touchmove', function(e) {
            e.preventDefault()
        }, false);
        var box = document.querySelector('.box');
        var isDown = false;
        var lastTop = 0;
        var mouseY = 0;
        var speed = 0;
        var maxSpeed = -50;
        var startY = 0;
        var timer = null;

        box.addEventListener('touchstart', mousedown, false)
        box.addEventListener('touchmove', mousemove, false)
        box.addEventListener('touchend', mouseup, false)

        function mousedown(e) {
            isDown = true;
            startY = e.touches[0].clientY;
            mouseY = startY - lastTop / 2;

        }

        function stop() {
            if(timer) {
                clearInterval(timer);
                timer = null;
                speed = 0;
            }
        }
        var height = -box.offsetHeight + document.body.offsetHeight;

        function mousemove(e) {
            var y = (e.touches[0].clientY - mouseY) * 2;
            if (y > 0) y = 0;
            if (y <= height) y = height;
            setStyle3(box, 'transform', 'translate(0px, ' + Math.floor(y) + 'px) translateZ(0)');
            // box.style.top = Math.floor(lastTop) + 'px';
            speed = (e.touches[0].clientY - startY);
            startY = e.touches[0].clientY;
            lastTop = y;
        }

        function mouseup(e) {
            if (speed < maxSpeed) {
                speed = maxSpeed;
            }
            console.log(speed)
            console.log(lastTop)
            isDown = false;
            startMove();
        }

        function startMove() {
            if (timer) {
                clearInterval(timer);
                timer = null;
            }
            timer = setInterval(function() {
                lastTop += speed;
                speed *= 0.92;
                if (Math.abs(speed) <= 1) {
                    stop();
                } else {
                    if (lastTop > 0) lastTop = 0;
                    if (lastTop < height) lastTop = height;
                    // box.style.top = Math.floor(lastTop) + 'px';
                    setStyle3(box, 'transform', 'translate(0px, ' + Math.floor(lastTop) + 'px) translateZ(0)');
                }
            }, 1000 / 60);
        }

        function setStyle3(obj, name, value) {
            name = name.replace(/-\w/g, function(str) {
                return str.charAt(1).toUpperCase();
            })
            var upCaseName = name.charAt(0).toUpperCase() + name.substring(1);
            obj.style['Webkit' + upCaseName] = value;
            obj.style['Moz' + upCaseName] = value;
            obj.style[name] = value;
        }
    }
    </script>
</body>

</html>
